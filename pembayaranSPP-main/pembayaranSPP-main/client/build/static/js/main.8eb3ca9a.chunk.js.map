{"version":3,"sources":["pages/LoginAdmin.js","pages/LoginSiswa.js","pages/HomeAdmin.js","index.js"],"names":["LoginAdmin","history","useHistory","useState","username","setUsername","password","setPassword","level","setLevel","message","setMessage","localStorage","getItem","token","useEffect","window","confirm","clear","push","className","htmlFor","type","id","placeholder","value","onChange","ev","target","name","defaultChecked","onClick","loginHandler","axios","method","url","data","then","response","setItem","location","catch","err","LoginSiswa","NISN","setNISN","Home","tableName","setTableName","dbData","setDbData","crudElement","setCrudElement","headers","Authorization","crudTable","keys","Object","map","key","object","class","colspan","data-toggle","data-target","aria-expanded","href","role","aria-haspopup","App","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8eb3ca9a.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport \"../styles/style.css\"\nimport axios from \"axios\";\n\nexport default function LoginAdmin() {\n\n  let history = useHistory()\n  \n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [level,setLevel] = useState(\"petugas\")\n  const [message, setMessage] = useState(\"\")\n  const [token, setToken] = useState(() => {\n    localStorage.getItem('token')\n  })\n\n  //make a request to the API\n  function loginHandler() {\n    axios({\n      method: \"post\",\n      url: \"http://localhost:3001/api/login\",\n      data: {\n        level: level,\n        username: username,\n        password: password,\n      }\n    }\n    ).then(response => {\n      if (response.data.token) {\n        setMessage(\"\")\n        localStorage.clear()\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('level', response.data.level);\n        window.location = \"/homeadmin\";\n      } else {\n        setMessage(response.data.message)\n      }\n    })\n    .catch(err => {\n      setMessage(err.message)\n    })\n  }\n\n  useEffect(() => {\n    if(!localStorage.getItem(\"token\")){\n      //do nothing\n    }else{\n      const confirmed = window.confirm(\"Apakah andka yakin ingin logout dan mengakhiri sesi?\");\n      if(!confirmed){\n        history.push(\"/homeadmin\")\n      }else{\n        localStorage.clear()\n      }\n    }\n  },[token]);\n  \n  return (\n    <div>\n      <div className=\"login-grid\">\n        <form className=\"login-form\">\n          <h3>Login</h3>\n          <br/>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"username\" className=\"form-control\" id=\"username\" placeholder=\"Enter username\" value={username} onChange={(ev) => setUsername(ev.target.value)} />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Password\" value={password} onChange={(ev) => setPassword(ev.target.value)} />\n          </div>\n          <label htmlFor=\"priv-level\">Pilih Level</label>\n          <div onChange={ev => setLevel(ev.target.value)} className=\"login-select-priv\" id=\"priv-level\">\n            <div className=\"radio\">\n              <label>\n                <input type=\"radio\" name=\"optionsRadios\" id=\"optionsRadios1\" value=\"petugas\" defaultChecked={true}/>\n                Petugas\n              </label>\n            </div>\n            <div className=\"radio\">\n              <label>\n                <input type=\"radio\" name=\"optionsRadios\" id=\"optionsRadios2\" value=\"admin\" />\n                Admin\n              </label>\n            </div>\n          </div>\n          <p className=\"text-danger\">{message}</p>\n          <button type=\"button\" className=\"btn btn-primary\" onClick={loginHandler}>Submit</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from \"react\";\nimport \"../styles/style.css\"\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function LoginSiswa() {\n\n  let history = useHistory()\n\n  const [NISN, setNISN] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n\n  //make a request to the API\n  function loginHandler() {\n    axios({\n      method: \"post\",\n      url: \"http://localhost:3001/api/login\",\n      data: {\n        level: \"siswa\",\n        username: NISN,\n        password: password,\n      }\n    }\n    ).then(response => {\n      if (response.data.token) {\n        setMessage(\"\")\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('level', response.data.level);\n        history.push(\"/homesiswa\")\n      } else {\n        setMessage(response.data.message)\n      }\n    })\n  }\n\n  return (\n    <div>\n      <div className=\"login-grid\">\n        <form className=\"login-form\">\n          <h3>Login</h3>\n          <br />\n          <div className=\"form-group\">\n            <label htmlFor=\"NISN\">NISN</label>\n            <input type=\"text\" className=\"form-control\" id=\"NISN\" placeholder=\"Enter NISN\" value={NISN} onChange={(ev) => setNISN(ev.target.value)} />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Password\" value={password} onChange={(ev) => setPassword(ev.target.value)} />\n          </div>\n          <p className=\"text-danger\">{message}</p>\n\n          <button type=\"button\" className=\"btn btn-primary\" onClick={loginHandler}>Submit</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\n","import React, { useState, useEffect } from \"react\";\nimport \"../styles/style.css\"\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function Home() {\n\n  const [tableName, setTableName] = useState(\"petugas\")\n  const [dbData,setDbData] = useState([{}])\n  const [message, setMessage] = useState(\"\")\n  const [crudElement, setCrudElement] = useState(\"\")\n\n  let history = useHistory()\n\n  function crudTable(data){\n\n    if(!data) return \" \"\n    var keys = (data ? Object.keys(data[0]).map(key =>\n      <th>{key}</th>\n    ) : \" \")\n\n    var data = (data ? data.map(object => \n      <tr>\n        {Object.keys(object).map(key => \n          <td>{object[key]}</td> \n        )}\n        <a id={Object.keys(object)[0]} className=\"btn btn-sm btn-danger btn-padding\"> Delete </a>\n        <a id={Object.keys(object)[0]} className=\"btn btn-sm btn-warning btn-padding\"> Edit </a>\n      </tr>\n    ): \" \")\n  \n    return (\n      <table class=\"table\">\n        <thead>\n          <tr>\n            {keys}\n            <th colspan=\"2\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data}\n        </tbody>\n      </table>\n    )\n  }\n\n  useEffect(function(){\n    const token = localStorage.getItem(\"token\")\n    axios({\n      method: \"get\",\n      url: \"http://localhost:3001/api/crud/\" + tableName,\n      headers: { Authorization: `Bearer ${token}` }\n    }).then(response => {\n      setMessage(\"\")\n      setDbData(response.data)\n    }).catch(err => {\n      setMessage(err.message)\n    })\n  },[tableName])\n\n\n  useEffect(function () {\n    if (!localStorage.getItem(\"token\") && (localStorage.getItem(\"level\") != \"petugas\" || localStorage.getItem(\"level\") != \"admin\")) {\n      history.push(\"/loginadmin\")\n    }\n    if(!dbData){\n      setCrudElement(<h3 className=\"text-danger padding\">Database kosong</h3>)\n    }else{\n      setCrudElement(crudTable(dbData))\n    }\n    \n  },[dbData])\n\n  return (\n    <div>\n      <nav className=\"navbar navbar-default\">\n        <div className=\"container-fluid\">\n          <div className=\"navbar-header\">\n            <button type=\"button\" className=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\" aria-expanded=\"false\">\n              <span className=\"sr-only\">Toggle navigation</span>\n              <span className=\"icon-bar\" />\n              <span className=\"icon-bar\" />\n              <span className=\"icon-bar\" />\n            </button>\n            <a className=\"navbar-brand\" href=\"#\">Brand</a>\n          </div>\n          <div className=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul className=\"nav navbar-nav\">\n              <li className=\"active\"><a href=\"#\">Link <span className=\"sr-only\">(current)</span></a></li>\n              <li><a href=\"#\">Link</a></li>\n              <li className=\"dropdown\">\n                <a href=\"#\" className=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">Dropdown <span className=\"caret\" /></a>\n                <ul className=\"dropdown-menu\">\n                  <li><a href=\"#\">Action</a></li>\n                  <li><a href=\"#\">Another action</a></li>\n                  <li><a href=\"#\">Something else here</a></li>\n                  <li role=\"separator\" className=\"divider\" />\n                  <li><a href=\"#\">Separated link</a></li>\n                  <li role=\"separator\" className=\"divider\" />\n                  <li><a href=\"#\">One more separated link</a></li>\n                </ul>\n              </li>\n            </ul>\n            <form className=\"navbar-form navbar-left\">\n              <div className=\"form-group\">\n                <input type=\"text\" className=\"form-control\" placeholder=\"Search\" />\n              </div>\n              <button type=\"submit\" className=\"btn btn-default\">Submit</button>\n            </form>\n            <ul className=\"nav navbar-nav navbar-right\">\n              <li><a href=\"#\">Link</a></li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      <div className=\"container-fluid\">\n        <div onChange={ev => setTableName(ev.target.value)}>\n          <label class=\"radio-inline\">\n            <input type=\"radio\" name=\"inlineRadioOptions\" defaultChecked={tableName==\"kelas\"} value=\"kelas\" /> Kelas\n          </label>\n          <label class=\"radio-inline\">\n            <input type=\"radio\" name=\"inlineRadioOptions\" defaultChecked={tableName==\"pembayaran\"} value=\"pembayaran\" /> Pembayaran\n          </label>\n          <label class=\"radio-inline\">\n            <input type=\"radio\" name=\"inlineRadioOptions\" defaultChecked={tableName==\"petugas\"} value=\"petugas\" /> Petugas\n          </label>\n          <label class=\"radio-inline\">\n            <input type=\"radio\" name=\"inlineRadioOptions\" defaultChecked={tableName==\"siswa\"} value=\"siswa\" /> Siswa\n          </label>\n          <label class=\"radio-inline\">\n            <input type=\"radio\" name=\"inlineRadioOptions\" defaultChecked={tableName==\"spp\"} value=\"spp\" /> SPP\n          </label>\n        </div>\n        {crudElement}\n        <p className=\"text-danger\">{message}</p>\n\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useHistory\n} from \"react-router-dom\";\nimport LoginAdmin from \"./pages/LoginAdmin.js\";\nimport LoginSiswa from \"./pages/LoginSiswa.js\";\nimport Home from \"./pages/HomeAdmin.js\";\n\nfunction App (){\n\n  return (\n    <Router>\n         <Switch>\n            <Route path=\"/loginAdmin\" component={LoginAdmin}/>\n            <Route path=\"/LoginSiswa\" component={LoginSiswa}/>\n            <Route path=\"/HomeAdmin\" component={Home}/>\n            <Route path=\"/HomeSiswa\" component={Home}/>\n         </Switch>\n     </Router>\n )\n}\n\n\nReactDOM.render(<App/>,document.getElementById('app'));"],"sourceRoot":""}